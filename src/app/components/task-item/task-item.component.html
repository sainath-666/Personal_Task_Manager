<div
  class="bg-gradient-to-r from-yellow-200 via-blue-200 to-purple-200 rounded-xl shadow-lg p-5 mb-6 hover:shadow-2xl transition-shadow border-l-4 border-orange-400"
>
  <div class="flex items-center justify-between mb-3">
    <div class="flex flex-col gap-1">
      <span
        class="task-status-label"
        style="
          font-weight: bold;
          color: #fff;
          padding: 2px 8px;
          border-radius: 8px;
          display: inline-block;
          align-self: flex-start;
          margin-bottom: 4px;
        "
        [ngStyle]="{ background: task.isCompleted ? '#4caf50' : '#ff9800' }"
      >
        {{ task.isCompleted ? "Completed" : "Pending" }}
      </span>
      <div class="flex items-center gap-3">
        <!-- @if (!task.isCompleted) { -->
        <input
          type="checkbox"
          [checked]="task.isCompleted"
          (change)="toggleComplete()"
          class="w-5 h-5 rounded border-purple-300 text-blue-500 focus:ring-blue-400"
        />

        <h3
          [class.line-through]="task.isCompleted"
          [class.text-gray-400]="task.isCompleted"
          class="text-xl font-bold text-purple-700"
        >
          {{ task.title }}
        </h3>
      </div>
    </div>
    <div class="flex gap-2">
      @if (!task.isCompleted) {
      <button
        (click)="onEdit()"
        class="bg-blue-400 text-white px-3 py-1 rounded-lg hover:bg-blue-500 transition font-semibold shadow"
      >
        Edit
      </button>
      }
      <button
        (click)="onDelete()"
        class="bg-red-400 text-white px-3 py-1 rounded-lg hover:bg-red-500 transition font-semibold shadow"
      >
        Delete
      </button>
    </div>
  </div>

  <p class="text-purple-700 mb-2">{{ task.description }}</p>

  @if (task.dueDate) {
  <div class="text-sm text-purple-500 font-semibold">
    Due: {{ task.dueDate | date : "medium" }}
  </div>
  }
</div>

@if (showEditModal) {
<app-edit-task-modal
  [task]="task"
  (closeModal)="showEditModal = false"
  (taskUpdated)="onTaskUpdated($event)"
/>
}
