<div class="bg-white rounded-lg shadow p-4 hover:shadow-lg transition-shadow">
  <div class="flex items-center justify-between mb-2">
    <div class="flex items-center gap-2">
      <input
        type="checkbox"
        [checked]="task.isCompleted"
        (change)="toggleComplete()"
        class="w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
      />
      <h3
        [class.line-through]="task.isCompleted"
        [class.text-gray-500]="task.isCompleted"
        class="text-lg font-semibold"
      >
        {{ task.title }}
      </h3>
    </div>
    <div class="flex gap-2">
      <button (click)="onEdit()" class="text-blue-500 hover:text-blue-600">
        Edit
      </button>
      <button (click)="onDelete()" class="text-red-500 hover:text-red-600">
        Delete
      </button>
    </div>
  </div>

  <p class="text-gray-600 mb-2">{{ task.description }}</p>

  @if (task.dueDate) {
  <div class="text-sm text-gray-500">
    Due: {{ task.dueDate | date : "mediumDate" }}
  </div>
  }
</div>

@if (showEditModal) {
<app-edit-task-modal
  [task]="task"
  (closeModal)="showEditModal = false"
  (taskUpdated)="onTaskUpdated($event)"
/>
}
